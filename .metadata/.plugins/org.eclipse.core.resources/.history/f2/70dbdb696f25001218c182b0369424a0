package com.example.cameratest;

import android.hardware.*;
import android.hardware.Camera.*;

public class CameraPreviewProcessing implements PreviewCallback {
	private long timeStamp = 0;
	private FrameProcessedListener listener;
	
	public CameraPreviewProcessing(FrameProcessedListener listener) {
		this.listener = listener;
	}
	
	public void onPreviewFrame(byte[] data, Camera camera) {
		long newTimeStamp = System.currentTimeMillis();
		listener.onFrameProcessed(Long.toString(newTimeStamp - timeStamp));
		timeStamp = newTimeStamp;
	}
}
